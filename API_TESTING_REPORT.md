# ุชูุฑูุฑ ุงุฎุชุจุงุฑ Eye Clinic Management System API

## ูุนูููุงุช ุนุงูุฉ
- **ุชุงุฑูุฎ ุงูุงุฎุชุจุงุฑ**: 28 ุฏูุณูุจุฑ 2024
- **ุฅุตุฏุงุฑ API**: 1.0.0
- **ุจูุฆุฉ ุงูุงุฎุชุจุงุฑ**: Development
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: SmarterASP (mysql5049.site4now.net)
- **ุงููููุฐ**: 3000

## ููุฎุต ุงููุชุงุฆุฌ

### โ ุงูุงุฎุชุจุงุฑุงุช ุงููุงุฌุญุฉ
- โ ุชุดุบูู ุงูู API ุจูุฌุงุญ
- โ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ Health Check endpoint
- โ ุชุณุฌูู ุงูุนูุงุฏุฉ
- โ ุชุณุฌูู ุงูุฏุฎูู
- โ ุงูุญุตูู ุนูู ุงูุนูุงุฏุงุช

### โ๏ธ ุงููุดุงูู ุงูููุชุดูุฉ
- โ๏ธ ูุดููุฉ ูู ูุนุงูุฌุฉ ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ (undefined vs null)
- โ๏ธ ุจุนุถ endpoints ุชุญุชุงุฌ ุฅูู ุฅุตูุงุญ ูู ูุนุงูุฌุฉ ุงูุจูุงูุงุช

### ๐ง ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ
- โ ุฅุตูุงุญ ูุดููุฉ undefined ูู authController.js
- โ ุฅุตูุงุญ ูุดููุฉ undefined ูู mobileAuthController.js
- โ ุฅูุดุงุก ููู .env ูุน ุฅุนุฏุงุฏุงุช SmarterASP

## ุชูุงุตูู ุงูุงุฎุชุจุงุฑุงุช

### 1. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุงูุฃุณุงุณู

#### Health Check
- **URL**: `GET /health`
- **ุงููุชูุฌุฉ**: โ ูุฌุญ
- **ุงูุงุณุชุฌุงุจุฉ**: 
```json
{
  "status": "OK",
  "timestamp": "2025-10-28T19:53:54.617Z",
  "service": "Eye Clinic API"
}
```

#### Welcome Endpoint
- **URL**: `GET /`
- **ุงููุชูุฌุฉ**: โ ูุฌุญ
- **ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "message": "Welcome to Eye Clinic API",
  "version": "1.0.0",
  "endpoints": {
    "health": "/health",
    "api": "/api"
  }
}
```

### 2. ุงุฎุชุจุงุฑ Authentication

#### ุชุณุฌูู ุงูุนูุงุฏุฉ
- **URL**: `POST /api/auth/register-clinic`
- **ุงููุชูุฌุฉ**: โ ูุฌุญ (ุจุนุฏ ุงูุฅุตูุงุญ)
- **ุงูุจูุงูุงุช ุงููุฑุณูุฉ**:
```json
{
  "clinicName": "Test Clinic",
  "clinicLicense": "TEST123",
  "clinicPhone": "+966501234567",
  "clinicEmail": "test@clinic.com",
  "ownerName": "Test Owner",
  "ownerEmail": "owner@clinic.com",
  "ownerPhone": "+966501234567",
  "ownerPassword": "test123"
}
```
- **ุงูุงุณุชุฌุงุจุฉ**: Status 201 - ุชู ุฅูุดุงุก ุงูุนูุงุฏุฉ ูุงูุญุณุงุจ ุจูุฌุงุญ

#### ุชุณุฌูู ุงูุฏุฎูู
- **URL**: `POST /api/auth/login`
- **ุงููุชูุฌุฉ**: โ ูุฌุญ
- **ุงูุจูุงูุงุช ุงููุฑุณูุฉ**:
```json
{
  "email": "owner@clinic.com",
  "password": "test123"
}
```
- **ุงูุงุณุชุฌุงุจุฉ**: Status 200 - ุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ ูุน ุฅุฑุฌุงุน JWT token

### 3. ุงุฎุชุจุงุฑ ุฅุฏุงุฑุฉ ุงูุนูุงุฏุงุช

#### ุงูุญุตูู ุนูู ุงูุนูุงุฏุงุช
- **URL**: `GET /api/clinics`
- **ุงููุชูุฌุฉ**: โ ูุฌุญ
- **ุงูุงุณุชุฌุงุจุฉ**: ูุงุฆูุฉ ุจุงูุนูุงุฏุงุช ูุน ุชูุงุตูููุง

### 4. ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุงููุชูุฌุฉ**: โ ูุฌุญ
- **ุงูุฑุณุงูุฉ**: "Database connected successfully with utf8mb4 session"
- **ุงูุฎุงุฏู**: mysql5049.site4now.net
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: db_ac0018_eyeclin

## ุงููุดุงูู ุงูููุชุดูุฉ ูุงูุญููู

### 1. ูุดููุฉ undefined ูู SQL Parameters

#### ุงููุดููุฉ:
```
Bind parameters must not contain undefined. To pass SQL NULL specify JS null
```

#### ุงูุณุจุจ:
ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ ูุงูุช ุชูุฑุฑ `undefined` ุจุฏูุงู ูู `null` ููุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงูุญู ุงููุทุจู:
```javascript
// ูุจู ุงูุฅุตูุงุญ
[clinicName, clinicNameEn, clinicCode, clinicLicense, 
 clinicPhone, clinicEmail, clinicAddress, clinicAddressEn, clinicSpecialty,
 clinicWebsite, JSON.stringify(workingHours), JSON.stringify(services)]

// ุจุนุฏ ุงูุฅุตูุงุญ
[clinicName, clinicNameEn || clinicName, clinicCode, clinicLicense, 
 clinicPhone, clinicEmail, clinicAddress || null, clinicAddressEn || null, clinicSpecialty || null,
 clinicWebsite || null, workingHours ? JSON.stringify(workingHours) : null, services ? JSON.stringify(services) : null]
```

### 2. ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

#### ุงููุดููุฉ:
ูุงูุช ุงูุฅุนุฏุงุฏุงุช ุชุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ูุญููุฉ ุบูุฑ ูุชููุฑุฉ

#### ุงูุญู ุงููุทุจู:
ุฅูุดุงุก ููู `.env` ูุน ุฅุนุฏุงุฏุงุช SmarterASP:
```env
DB_HOST=mysql5049.site4now.net
DB_USER=ac0018_eyeclin
DB_PASSWORD=admin123
DB_NAME=db_ac0018_eyeclin
DB_PORT=3306
```

## ูููุงุช Postman ุงููููุดุฃุฉ

### 1. Eye_Clinic_API.postman_collection.json
- **ุงููุญุชูู**: ุฌููุน endpoints ููุธูุฉ ูู ูุฌููุนุงุช ููุทููุฉ
- **ุงููุฌููุนุงุช**:
  - Health Check
  - Authentication
  - Mobile Authentication
  - Clinics
  - Patients
  - Doctors
  - Appointments
  - Mobile Appointments
  - Prescriptions
  - Medical Reports
  - Test Results
  - Color Blindness Tests
  - Mobile Color Tests
  - Waiting Room
  - User Management
  - Analytics

### 2. Eye_Clinic_API.postman_environment.json
- **ุงููุญุชูู**: ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- **ุงููุชุบูุฑุงุช**:
  - base_url: http://localhost:3000
  - admin_token, doctor_token, patient_token
  - IDs ูุฎุชููุฉ ููุงุฎุชุจุงุฑ

### 3. POSTMAN_TESTING_GUIDE.md
- **ุงููุญุชูู**: ุฏููู ุดุงูู ูุงุณุชุฎุฏุงู Postman
- **ูุดูู**: ุฎุทูุงุช ุงูุงุณุชูุฑุงุฏุ ุงูุฅุนุฏุงุฏุ ูุงูุงุฎุชุจุงุฑ

## ุงูุชูุตูุงุช

### 1. ููุงุฎุชุจุงุฑ ุงููุณุชูุฑ
- ุงุณุชุฎุฏู ูููุงุช Postman ุงููููุดุฃุฉ
- ุงุฎุชุจุฑ ุฌููุน endpoints ุจุงูุชุธุงู
- ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ

### 2. ููุฅูุชุงุฌ
- ุบููุฑ JWT_SECRET ุฅูู ูููุฉ ูููุฉ
- ูุนูู HTTPS
- ุงุถุจุท CORS origins ุจุดูู ุตุญูุญ
- ุงุณุชุฎุฏู ูุงุนุฏุฉ ุจูุงูุงุช ุฅูุชุงุฌ ูููุตูุฉ

### 3. ูููุทูุฑูู
- ุฑุงุฌุน ุงูููุฏ ููุชุฃูุฏ ูู ูุนุงูุฌุฉ ุงูุญููู ุงูุงุฎุชูุงุฑูุฉ
- ุฃุถู ุงููุฒูุฏ ูู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ

## ุงูุฎูุงุตุฉ

ุชู ุงุฎุชุจุงุฑ Eye Clinic Management System API ุจูุฌุงุญ ูุน ุงูุชุดุงู ูุฅุตูุงุญ ุจุนุถ ุงููุดุงูู ุงูุจุณูุทุฉ. ุงูู API ูุนูู ุจุดูู ุตุญูุญ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู SmarterASPุ ูุชู ุฅูุดุงุก ูููุงุช Postman ุดุงููุฉ ูุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู.

### ุงูููุงุท ุงูุฅูุฌุงุจูุฉ:
- โ ุจููุฉ API ููุธูุฉ ููููููุฉ
- โ ูุธุงู Authentication ูุนูู ุจุดูู ุตุญูุญ
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ ูุชุนูู
- โ ูููุงุช Postman ุดุงููุฉ ูููุตูุฉ
- โ ุฏุนู UTF-8 ูููุตูุต ุงูุนุฑุจูุฉ

### ุงููุฌุงูุงุช ููุชุญุณูู:
- ๐ง ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ๐ง ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ
- ๐ง ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุงุฎุชุจุงุฑุงุช ุงูุขููุฉ
- ๐ง ุชุญุณูู ุงูุฃุฏุงุก ูุงูุงุณุชุฌุงุจุฉ

ุงูู API ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุจูุฆุฉ ุงูุชุทููุฑ ููููู ุงูุงูุชูุงู ุฅูู ูุฑุญูุฉ ุงูุฅูุชุงุฌ ุจุนุฏ ุชุทุจูู ุงูุชูุตูุงุช ุงููุฐููุฑุฉ ุฃุนูุงู.

